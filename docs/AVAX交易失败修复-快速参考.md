# AVAXäº¤æ˜“å¤±è´¥ä¿®å¤ - å¿«é€Ÿå‚è€ƒ

## ğŸ¯ æ ¸å¿ƒä¿®å¤

### 1. å¸ç§å†·é™æœŸï¼ˆé˜²æ­¢é‡å¤çŠ¯é”™ï¼‰

- **æ–‡ä»¶**: `src/services/coinCooldownManager.ts`
- **è§„åˆ™**: äºæŸåè‡ªåŠ¨è¿›å…¥å†·é™æœŸ
  - å•æ¬¡äºæŸâ‰¥15%: 12å°æ—¶
  - 24hå†…2æ¬¡äºæŸ: 24å°æ—¶  
  - 24hå†…â‰¥3æ¬¡äºæŸ: 48å°æ—¶
  - è¶‹åŠ¿åè½¬äºæŸ: +6å°æ—¶

### 2. å†å²å¤±è´¥æƒ©ç½šï¼ˆé™ä½è¯„åˆ†ï¼‰

- **æ–‡ä»¶**: `src/services/opportunityScorer.ts`
- **æƒ©ç½š**: æœ€é«˜-70åˆ†
  - 24hå†…æœ‰äºæŸ: -20åˆ†
  - å¹³å‡äºæŸâ‰¥20%: -15åˆ†
  - 48hå†…â‰¥2æ¬¡äºæŸ: -20åˆ†
  - æœ‰è¶‹åŠ¿åè½¬: -15åˆ†

### 3. åè½¬æ£€æµ‹æå‰ï¼ˆæ›´æ—©å¹³ä»“ï¼‰

- **æ–‡ä»¶**: `src/services/marketStateAnalyzer.ts`, `src/agents/tradingAgent.ts`
- **é˜ˆå€¼**: 70â†’60, 50â†’40, 30â†’25
  - reversalScoreâ‰¥60: ç«‹å³å¹³ä»“ï¼ˆåŸ70ï¼‰
  - reversalScoreâ‰¥40: å»ºè®®å¹³ä»“ï¼ˆåŸ50ï¼‰

## ğŸ” éªŒè¯æ–¹æ³•

```bash
# è¿è¡Œæµ‹è¯•è„šæœ¬
npx tsx scripts/test-avax-fix.ts

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
pm2 logs trading-bot | grep "å†·é™æœŸ\|è¯„åˆ†æƒ©ç½š"
```

## ğŸ“Š AVAXå®é™…æ•ˆæœ

**ä¿®å¤å‰**:

- ç¬¬1æ¬¡: å¼€ä»“ â†’ 44åˆ†é’Ÿååè½¬æ­¢æŸï¼ˆ-21.4%ï¼‰
- ç¬¬2æ¬¡: 3å°æ—¶åå†æ¬¡å¼€ä»“ â†’ 74åˆ†é’Ÿååè½¬æ­¢æŸï¼ˆ-22.5%ï¼‰

**ä¿®å¤å**:

- ç¬¬1æ¬¡: reversalScore=40ä¼šè§¦å‘ã€å»ºè®®å¹³ä»“ã€‘â¬…ï¸ é˜ˆå€¼é™ä½
- ç¬¬2æ¬¡: è¢«å†·é™æœŸé˜»æ­¢ â¬…ï¸ é˜²æ­¢é‡å¤çŠ¯é”™
- è¯„åˆ†: 77åˆ† â†’ 7åˆ† â¬…ï¸ å†å²æƒ©ç½š

## âš¡ å…³é”®ä»£ç 

### æ£€æŸ¥å†·é™æœŸ

```typescript
// åœ¨scoreAndRankOpportunitiesä¸­è‡ªåŠ¨è°ƒç”¨
const cooldown = await isSymbolInCooldown(symbol);
if (cooldown.inCooldown) {
  logger.warn(`${symbol} åœ¨å†·é™æœŸï¼Œè·³è¿‡`);
  continue;
}
```

### åº”ç”¨æƒ©ç½š

```typescript
// åœ¨scoreOpportunityä¸­è‡ªåŠ¨è®¡ç®—
const lossStats = await getSymbolLossStats(symbol);
const penalty = calculateHistoricalLossPenalty(lossStats);
const finalScore = baseScore - penalty; // è‡ªåŠ¨æ‰£åˆ†
```

## ğŸ”§ é…ç½®é¡¹

æ— éœ€é¢å¤–é…ç½®ï¼Œæ‰€æœ‰åŠŸèƒ½è‡ªåŠ¨ç”Ÿæ•ˆã€‚

å¦‚éœ€è°ƒæ•´åè½¬é˜ˆå€¼ï¼Œä¿®æ”¹ä»¥ä¸‹æ–‡ä»¶ä¸­çš„æ•°å€¼ï¼š

- `src/services/marketStateAnalyzer.ts`: ç¬¬837-842è¡Œ
- `src/agents/tradingAgent.ts`: ç¬¬1247-1257è¡Œ

---

**ç‰ˆæœ¬**: v1.0  
**æ›´æ–°æ—¶é—´**: 2025-11-22  
**å…¼å®¹æ€§**: âœ… å¸å®‰ + Gate.io
